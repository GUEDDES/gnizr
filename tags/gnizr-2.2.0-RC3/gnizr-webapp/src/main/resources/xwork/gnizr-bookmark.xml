<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.0//EN"
	"http://www.opensymphony.com/xwork/xwork-1.0.dtd">
<xwork>
	
	
	<!-- see also webwork doc: http://www.opensymphony.com/webwork/wikidocs/Interceptors.html -->
	
	<package name="gnizr-bookmark" extends="gnizr-default" namespace="/bookmark">
		
		<action name="add" class="com.gnizr.core.web.action.bookmark.EditBookmark"
			method="doDefault">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<result name="success" type="freemarker">/bookmarks/edit.ftl</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
		</action>
		
		<action name="edit"
			class="com.gnizr.core.web.action.bookmark.EditBookmark"
			method="doFetchBookmark">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<interceptor-ref name="validationWorkflowStack"/>
			<result name="success" type="freemarker">/bookmarks/edit.ftl</result>
			<result name="input" type="freemarker">/bookmarks/edit.ftl</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
		</action>
		
		<action name="save"
			class="com.gnizr.core.web.action.bookmark.EditBookmark">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<interceptor-ref name="validationWorkflowStack"/>
			<result name="success" type="redirect">${redirectToPage}</result>
			<result name="input" type="freemarker">/bookmarks/edit.ftl</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
			<result name="redirect" type="redirect">${url}</result>
		</action>
		
		<action name="delete"
			class="com.gnizr.core.web.action.bookmark.EditBookmark"
			method="doDeleteBookmark">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<result name="success" type="redirect">${redirectToPage}</result>
			<result name="input" type="freemarker">/common/error.ftl</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
		</action>
		
		<action name="archive"
			class="com.gnizr.core.web.action.bookmark.EditBookmark"
			method="doArchiveBookmark">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<interceptor-ref name="validationWorkflowStack"/>
			<result name="success" type="redirect">/home</result>
			<result name="input" type="freemarker">/common/error.ftl</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
		</action>
		
		<action name="manage"
			class="com.gnizr.core.web.action.bookmark.ManageBookmarks">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<result name="success" type="redirect">${redirectToPage}</result>
			<result name="input" type="redirect">/home</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
		</action>
		
		<action name="bulkDelete"
			class="com.gnizr.core.web.action.bookmark.ManageBookmarks"
			method="doDeleteBookmarks">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<result name="success" type="redirect">${redirectToPage}</result>
			<result name="input" type="redirect">/home</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
		</action>
		
	</package>
	
	<package name="gnizr-forme-bookmarks" extends="gnizr-default"
		namespace="/for/me">
		<action name="purgeall"
			class="com.gnizr.core.web.action.bookmark.EditForUser"
			method="doPurgeForUser">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<result name="success" type="redirect">/for/me</result>
			<result name="input" type="redirect">/login</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
		</action>
		
		<action name="delete"
			class="com.gnizr.core.web.action.bookmark.EditForUser"
			method="doDeleteForUser">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="auth"/>
			<interceptor-ref name="gnizrDefaultStack"/>
			<result name="success" type="redirect">${redirectToPage}</result>
			<result name="input" type="redirect">/login</result>
			<result name="error" type="freemarker">/common/error.ftl</result>
		</action>
	</package>
	<!--
	<package name="richtexteditor-browse1" extends="webwork-default"
		namespace="/webwork/richtexteditor/editor/filemanager/browser/default/connectors/jsp">
		<action name="connector"
			class="com.opensymphony.webwork.components.DefaultRichtexteditorConnector"
			method="browse">
			<result name="getFolders" type="richtexteditorGetFolders"/>
			<result name="getFoldersAndFiles" type="richtexteditorGetFoldersAndFiles"/>
			<result name="createFolder" type="richtexteditorCreateFolder"/>
			<result name="fileUpload" type="richtexteditorFileUpload"/>
		</action>
	</package>
		-->

	<package name="gnizr-placemarks" extends="gnizr-default" namespace="/gmap">
		<action name="bookmark" class="com.gnizr.core.web.action.bookmark.ListBookmarkHasGeomMarker">
			<interceptor-ref name="loggedIn"/>
			<interceptor-ref name="gnizrDefaultStack"/>			
			<result name="input" type="freemarker">/common/nosuchuser.ftl</result>	
			<result name="success" type="freemarker">/geombmarks/view.ftl</result>
		</action>					
	</package>	
</xwork>
